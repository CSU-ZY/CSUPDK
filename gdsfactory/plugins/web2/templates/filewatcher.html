<!DOCTYPE html>
<html>
<head>
    <!-- Add Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- ...existing <head> content... -->
<nav>
    <ul>
        <li><a href="/"><i class="fas fa-home"></i></a></li>
        <li><a href="/graph"><i class="fas fa-chart-bar"></i></a></li>
        <li><a href="/editor"><i class="fas fa-code"></i></a></li>
        <li><a href="/filewatcher"><i class="fas fa-folder-open"></i></a></li>
    <title>Folder to watch</title>
    <script>
        function connect(client_id) {
            var ws = new WebSocket(`ws://localhost:8000/ws/${client_id}`);
            ws.onmessage = function(event) {
                var messages = document.getElementById('messages')
                messages.textContent += event.data + '\n';
            };
            return ws;
        }

        function monitorFolder() {
            var client_id = 'unique_client_id'; // you should generate a unique client id for each client
            var ws = connect(client_id);
            var folder_path = document.getElementById('folder_selector').value;
            ws.onopen = function (event) {
                ws.send(folder_path);
            };
        }
    </script>
</head>
<body>
    <h1>Folder to watch</h1>
    <input type="file" id="folder_selector" webkitdirectory>
    <button onclick="monitorFolder()">Monitor folder</button>
    <button onclick="stop()">Stop</button>
    <button onclick="clear_cache()">Clear cache</button>
    <pre id="messages"></pre>
</body>
</html>
